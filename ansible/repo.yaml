- name: Trigger GitHub Actions workflow
  hosts: localhost
  gather_facts: false
  tasks:
    - name: Trigger GitHub Actions workflow
      uri:
        url: "https://api.github.com/repos/owner/repository/actions/workflows/workflow-file/dispatches"
        method: POST
        headers:
          Authorization: "token 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"
          Accept: "application/vnd.github.v3+json"
          Content-Type: "application/json"
        body_format: json
        body:
          ref: "main"
          inputs: {}  # If your workflow file has inputs, you can specify them here
      environment:
        OWNER: "mnagaraju"  # Replace with your GitHub username or organization name
        REPO: "https://github.com/mnagaraju5628/Testproject-INNO.git"  # Replace with the name of your GitHub repository
        WORKFLOW_FILE: "nodejs.yml"  # Replace with the name of your workflow file
      delegate_to: localhost
